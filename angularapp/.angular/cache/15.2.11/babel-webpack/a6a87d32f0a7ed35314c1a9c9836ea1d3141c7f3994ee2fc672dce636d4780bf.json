{"ast":null,"code":"import { Modal } from 'bootstrap';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/user-store.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nconst _c0 = function () {\n  return [\"/login\"];\n};\nconst _c1 = function () {\n  return [\"/register\"];\n};\nfunction NavbarComponent_ul_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ul\", 18)(1, \"li\", 19)(2, \"a\", 20);\n    i0.ɵɵtext(3, \"Login\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"li\", 19)(5, \"a\", 20);\n    i0.ɵɵtext(6, \"Register\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(2, _c0));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(3, _c1));\n  }\n}\nconst _c2 = function (a0) {\n  return [a0];\n};\nfunction NavbarComponent_ul_9_li_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\", 19)(1, \"a\", 20);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const item_r3 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(2, _c2, item_r3.route));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(item_r3.label);\n  }\n}\nfunction NavbarComponent_ul_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"ul\", 18)(1, \"li\", 19)(2, \"p\", 21);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(4, NavbarComponent_ul_9_li_4_Template, 3, 4, \"li\", 22);\n    i0.ɵɵelementStart(5, \"li\", 19)(6, \"button\", 23);\n    i0.ɵɵlistener(\"click\", function NavbarComponent_ul_9_Template_button_click_6_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.openLogoutModal());\n    });\n    i0.ɵɵtext(7, \"Logout\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate2(\"\", ctx_r1.username, \" - \", ctx_r1.role, \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.navItems);\n  }\n}\nexport let NavbarComponent = /*#__PURE__*/(() => {\n  class NavbarComponent {\n    constructor(userStore, router) {\n      this.userStore = userStore;\n      this.router = router;\n      this.isLoggedIn = false;\n      this.username = '';\n      this.role = '';\n      this.navItems = [];\n      this.modalInstance = null;\n    }\n    ngOnInit() {\n      this.userStore.getUser().subscribe(user => {\n        if (user.email) {\n          this.isLoggedIn = true;\n          this.username = user.email;\n          this.role = user.role;\n          this.setNavItems(this.role);\n        }\n      });\n    }\n    ngAfterViewInit() {\n      const logoutModalElement = document.getElementById('logoutModal');\n      if (logoutModalElement) {\n        this.modalInstance = new Modal(logoutModalElement);\n      }\n    }\n    setNavItems(role) {\n      if (role.toLowerCase() === 'admin') {\n        this.navItems = [{\n          label: 'Add Course',\n          route: '/admin/add/course'\n        }, {\n          label: 'View Courses',\n          route: '/admin/view/courses'\n        }, {\n          label: 'View Review',\n          route: '/admin/view/reviews'\n        }, {\n          label: 'View Orders',\n          route: 'admin/view/orders'\n        }];\n      } else if (role.toLowerCase() === 'user') {\n        this.navItems = [{\n          label: 'View Courses',\n          route: '/user/view/courses'\n        }, {\n          label: 'My Cart',\n          route: 'my-cart'\n        }, {\n          label: 'My Orders',\n          route: 'user/view/orders'\n        }, {\n          label: 'My Reviews',\n          route: 'user/view/reviews'\n        }];\n      }\n    }\n    openLogoutModal() {\n      var _a;\n      (_a = this.modalInstance) === null || _a === void 0 ? void 0 : _a.show();\n    }\n    confirmLogout() {\n      var _a;\n      this.userStore.logout();\n      this.isLoggedIn = false;\n      this.username = '';\n      this.role = '';\n      this.navItems = [];\n      this.router.navigate(['/login']);\n      (_a = this.modalInstance) === null || _a === void 0 ? void 0 : _a.hide();\n    }\n  }\n  NavbarComponent.ɵfac = function NavbarComponent_Factory(t) {\n    return new (t || NavbarComponent)(i0.ɵɵdirectiveInject(i1.UserStoreService), i0.ɵɵdirectiveInject(i2.Router));\n  };\n  NavbarComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: NavbarComponent,\n    selectors: [[\"app-navbar\"]],\n    decls: 24,\n    vars: 2,\n    consts: [[1, \"navbar\", \"navbar-expand-md\", 2, \"background\", \"linear-gradient(90deg, #1E3A8A, #2563EB)\"], [1, \"container\"], [\"href\", \"#\", 1, \"navbar-brand\", \"text-white\", \"fw-bold\"], [\"src\", \"assets/logo.jpg\", \"alt\", \"Logo\", 1, \"logo\"], [\"type\", \"button\", \"data-bs-toggle\", \"collapse\", \"data-bs-target\", \"#navbarNav\", 1, \"navbar-toggler\"], [1, \"navbar-toggler-icon\"], [\"id\", \"navbarNav\", 1, \"collapse\", \"navbar-collapse\"], [\"class\", \"navbar-nav ms-auto\", 4, \"ngIf\"], [\"id\", \"logoutModal\", \"tabindex\", \"-1\", \"aria-labelledby\", \"logoutModalLabel\", \"aria-hidden\", \"true\", 1, \"modal\", \"fade\"], [1, \"modal-dialog\"], [1, \"modal-content\"], [1, \"modal-header\"], [\"id\", \"logoutModalLabel\", 1, \"modal-title\"], [\"type\", \"button\", \"data-bs-dismiss\", \"modal\", \"aria-label\", \"Close\", 1, \"btn-close\"], [1, \"modal-body\"], [1, \"modal-footer\"], [\"type\", \"button\", \"data-bs-dismiss\", \"modal\", 1, \"btn\", \"btn-secondary\"], [\"type\", \"button\", 1, \"btn\", \"btn-primary\", 3, \"click\"], [1, \"navbar-nav\", \"ms-auto\"], [1, \"nav-item\"], [\"routerLinkActive\", \"active\", 1, \"nav-link\", \"text-white\", \"fw-semibold\", 3, \"routerLink\"], [1, \"nav-link\", \"text-white\", \"fw-semibold\"], [\"class\", \"nav-item\", 4, \"ngFor\", \"ngForOf\"], [1, \"nav-link\", \"text-white\", \"fw-semibold\", 3, \"click\"]],\n    template: function NavbarComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"nav\", 0)(1, \"div\", 1)(2, \"a\", 2);\n        i0.ɵɵelement(3, \"img\", 3);\n        i0.ɵɵtext(4, \" Skills Sprout \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"button\", 4);\n        i0.ɵɵelement(6, \"span\", 5);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"div\", 6);\n        i0.ɵɵtemplate(8, NavbarComponent_ul_8_Template, 7, 4, \"ul\", 7);\n        i0.ɵɵtemplate(9, NavbarComponent_ul_9_Template, 8, 3, \"ul\", 7);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(10, \"div\", 8)(11, \"div\", 9)(12, \"div\", 10)(13, \"div\", 11)(14, \"h5\", 12);\n        i0.ɵɵtext(15, \"Confirm Logout\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(16, \"button\", 13);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(17, \"div\", 14);\n        i0.ɵɵtext(18, \" Are you sure you want to logout? \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(19, \"div\", 15)(20, \"button\", 16);\n        i0.ɵɵtext(21, \"Cancel\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(22, \"button\", 17);\n        i0.ɵɵlistener(\"click\", function NavbarComponent_Template_button_click_22_listener() {\n          return ctx.confirmLogout();\n        });\n        i0.ɵɵtext(23, \"Logout\");\n        i0.ɵɵelementEnd()()()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(8);\n        i0.ɵɵproperty(\"ngIf\", !ctx.isLoggedIn);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.isLoggedIn);\n      }\n    },\n    dependencies: [i3.NgForOf, i3.NgIf, i2.RouterLink, i2.RouterLinkActive],\n    styles: [\".logo[_ngcontent-%COMP%]{width:55px;height:55px;margin-right:10px}.nav-link[_ngcontent-%COMP%]:hover{background-color:#1e3a8a;color:#fff;border-radius:2px}.navbar[_ngcontent-%COMP%]{background-color:#1e3a8a}\"]\n  });\n  return NavbarComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}